<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Async - Await</title>

    <script>
    //     // Requisição via fetch
    //     for(var i=1; i<152; i++){
    //     fetch('https://pokeapi.co/api/v2/pokemon/1'+i)
    //     .then(retorno => retorno.json())// traduzindo a requisição para um objeto
    //     .then(pokemon => console.log(pokemon.nome))// pode ser qualquer nome pois ele é apenas um retorno do nosso then anterior.
    // }

    async function obterPokemons(){

    // Obter a DIV
    var exibir = document.getElementById("exibir");
        
    for(var indice = 1; indice<152; indice++){
    
        var requisicao = await fetch('https://pokeapi.co/api/v2/pokemon/'+indice);
        var pokemon = await requisicao.json();
        
        exibir.innerHTML += "<img src='https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/"+indice+".png'>"
        exibir.innerHTML += "<p>"+pokemon.name+"</p>";
    
    }
    
    }
    
    </script>
</head>
<body onload="obterPokemons()">

<div id="exibir"></div>

</body>
</html>